@{
    ViewBag.Title = "充值排行, 用户中心, 体育彩票, 福利彩票, 中国体育彩票, " + SiteString.getHZSiteName(Request);
    ViewBag.keywords = "充值排行, 用户中心, 体育彩票, 福利彩票, 中国体育彩票, " + SiteString.getHZSiteName(Request);
    var list = ViewBag.AgentFillMoney as External.Core.Agnet.AgentFillMoneyTopCollection;
}
@section css{
    @UserHelper.css("mycenter.css")
    @UserHelper.css("commissio.css")
}
<div class="crumb">
    <ul>
        <li class="a">您当前的位置：</li>
        <li><a href="/">首页</a> > </li>
        <li>充值排行</li>
    </ul>
</div>
<div class="center mt10">
    @{Html.RenderAction("menu", "Member");}
    <div class="new_buy_right">
        @{Html.RenderAction("toptip", "Member");}
        <div class="mycommenu">
            <a href="javascript:void(0);" checklg="/commissio/myTc">我的提成</a> <a href="javascript:void(0);"
                checklg="/commissio/generalizeUser">推广用户</a> <a href="javascript:void(0);" checklg="/commissio/CommissionRecord">
                    返点结算</a> <a href="javascript:void(0);" checklg="/commissio/StatisticsQuery" class="up">
                        统计查询</a> <a href="javascript:void(0);" checklg="/commissio/SchemeManage">方案管理</a>
        </div>
        <div class="scheme">
            <div class="scheme-show">
                <a href="javascript:void(0)" checklg="/commissio/StatisticsQuery">用户购彩</a>
            </div>
            <div class="scheme-show xzscheme">
                <a href="javascript:void(0)" checklg="/commissio/PaySeniority">充值排行</a>
            </div>
             <div class="scheme-show">
                <a href="javascript:void(0)" checklg="/commissio/agentsales">代理销量</a>
            </div>
        </div>
        <div class="scheme-titile">
            <span class="bgimg"></span>
            <label class="lbfa">
                充值排行</label>
        </div>
        <table border="0" cellpadding="0" cellspacing="0" class="scheme-table">
            <tr class="t-tr1">
                <td colspan="9">
                    <div style="width: 620px !important 540px; float: left; height: 40px; line-height: 40px;">
                        &nbsp;&nbsp;&nbsp;&nbsp;用户名：<input type="text" name="txtKey" id="txtKey" />
                        时间 @ControlHelper.Calendar("begin", ViewBag.Begin)至 @ControlHelper.Calendar("end", ViewBag.End)
                    </div>
                    <div style="width: 60px; float: left; height: 40px;">
                        &nbsp;&nbsp;<a class="Query" href="javascript:void(0)" onclick="getAgentFillMoney(0,10)"></a>
                    </div>
                </td>
            </tr>
            <tr class="zcph-t-tr2">
                <td width="122">
                    用户编号 <span class="commissionM-table-sx"></span>
                </td>
                <td width="122">
                    用户名 <span class="commissionM-table-sx"></span>
                </td>
                <td width="129">
                    充值笔数 <span class="commissionM-table-sx"></span>
                </td>
                <td width="115">
                    充值总金额
                </td>
            </tr>
            @if (list != null)
            {
                foreach (var item in list.AgentFillMoneyTopList)
                {
                <tr>
                    <td width="122">
                        @item.UserId
                    </td>
                    <td width="122">
                        @item.DisplayName
                    </td>
                    <td width="129">
                        @item.FillTotalCount
                    </td>
                    <td width="115">
                        @item.TotalMoney.ToString("N2")
                    </td>
                </tr>
                }
            }
                <tr > <td colspan="4" class="betorder_number_money" style="background-color: #fff" >
                     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;注意:充值排行最多可查询一个月数据
                 </td> </tr>
            <tr>
                <td colspan="4">
                    @ViewHelpers.Pager4("getAgentFillMoney", ViewBag.pageNo, ViewBag.pageSize, list == null ? 0 : list.TotalCount)
                </td>
            </tr>
        </table>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        $(".scheme-table tr:even:gt(0)").css("backgroundColor", "#f7f7f7");

    })
    function getAgentFillMoney(pageNo, pageSize) {
        var begin = $("#begin").val();
        var end = $("#end").val();
        var key = $("#txtKey").val();
        var search = "pageNo=" + pageNo + "&pageSize=" + pageSize + "&begin=" + begin + "&end=" + end + "&r=" + Math.random().toFixed(5);
        if (key != null) {
            search = search + "&key=" + key;
        }
        location.search = search;
    }   
</script>
<div class="clearfix">
</div>
