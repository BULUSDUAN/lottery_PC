@{
    ViewBag.Title = "个人资料 - 用户中心 - 体育彩票 | 福利彩票 | 中国体育彩票 - " + SiteString.getHZSiteName(Request);
    ViewBag.keywords = "个人资料, 用户中心, 体育彩票, 福利彩票, 中国体育彩票, " + SiteString.getHZSiteName(Request);
    var user = ViewBag.CurrentUser as app.lottery.site.Models.CurrentUserInfo;
}
@section css{
    @UserHelper.css("validator.css")
    @UserHelper.js("jquery-1.4.4.js")
    @UserHelper.css("mycenter.css")
    @UserHelper.js("formValidator-4-1-3.js")
    @UserHelper.js("formValidatorRegex.js")
}
<script src="http://localhost:887/iqucai/js/formValidator-4-1-3.js" type="text/javascript"
    charset="UTF-8"></script>
<script src="http://localhost:887/iqucai/js/formValidatorRegex.js" type="text/javascript"
    charset="UTF-8"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $.formValidator.initConfig({ formID: "form1", onError: function () { alert("校验没有通过，具体错误请看错误提示") } });
        $("#RearlName").formValidator({ onShow: "", onfocus: "请输入", onCorrect: "谢谢你的合作，你的正确" }).inputValidator({ min: 1, empty: { leftEmpty: false, rightEmpty: false, emptyError: "姓名两边不能有空符号" }, onError: "姓名不能为空,请确认" });
        $("#IdCardNumber").formValidator({ onShow: "请输入身份证", onCorrect: "谢谢你的合作，你的身份证正确" }).regexValidator({ regExp: "idcard", dataType: "enum", onError: "身份证格式不正确" });
        $("#Mobile").formValidator({ onShow: "请输入你的手机号码", onfocus: "必须是13或15打头哦", onCorrect: "谢谢你的合作，你的手机号码正确" }).regexValidator({ regExp: "mobile", dataType: "enum", onError: "手机号码格式不正确" });
        $("#QQNumber").formValidator({ onShow: "请输入QQ号码", onCorrect: "谢谢你的合作，你的QQ号码正确" }).regexValidator({ regExp: "qq", dataType: "enum", onError: "QQ号码格式不正确" });
    });
</script>
<div class="crumb">
    <ul>
        <li class="a">您当前的位置：</li>
        <li><a href="/">首页</a> > </li>
        <li>个人资料</li>
    </ul>
</div>
<div class="center mt10">
    @{Html.RenderAction("menu", "Member");}
    <div class="new_buy_right">
        @{Html.RenderAction("toptip", "Member");}
        <div class="pd-main">
            <form action="/member/UpdateUser" method="post" name="form1" id="form1">
            <div class="info_title">
                <fieldset class="S_line2">
                    <legend class="tit S_txt1">个人资料</legend><a id="editbutton" class="btns" href="javascript:void(0)">
                        编辑</a><input type="submit" style="display: none; border: 0 none; cursor: pointer;" id="savebutton"
                        class="btns" name="savebutton" value="提交" />
                </fieldset>
            </div>
            <div class="pd-zl">
                <table border="0" cellpadding="0" cellspacing="0" style="width: 80%;" height="350"
                    id="pd-zl-zs">
                    <tr>
                        <th class="f-right">
                            用户昵称：
                        </th>
                        <td>
                            @user.LoginInfo.DisplayName &nbsp;&nbsp;<a href="/member/password" class="xgpwd">修改密码</a>
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            真实姓名：
                        </th>
                        <td>
                            @if (user.RealNameInfo != null)
                            {
                                @user.RealNameInfo.RealName
                            }
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            身份信息：
                        </th>
                        <td>
                            @if (user.RealNameInfo != null)
                            {
                                @SiteString.EncodeIdCardNumber(user.RealNameInfo.IdCardNumber)
                            }
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            联系电话：
                        </th>
                        <td>
                            @if (user.MobileInfo != null)
                            {   
                                @SiteString.EncodeMobile(user.MobileInfo.Mobile)
                            }
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            QQ号码：
                        </th>
                        <td>
                            @user.QQNumber
                        </td>
                    </tr>
                </table>
                <table border="0" cellpadding="0" cellspacing="0" height="350" style="display: none;
                    width: 80%;" id="editTable">
                    <tr>
                        <th class="f-right">
                            用户昵称：
                        </th>
                        <td>
                            @user.LoginInfo.DisplayName &nbsp;&nbsp;<a href="/member/password" class="xgpwd">修改密码</a>
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            真实姓名：
                        </th>
                        <td width="145px">
                            @if (user.RealNameInfo != null)
                            {
                                @user.RealNameInfo.RealName
@*<input type="text" name="RearlName" id="RearlName" value="@user.RealNameInfo.RealName" />*@
                              
                            }
                        </td>
                        <td>
                            <div id="RearlNameTip" style="width: 200px;">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            身份信息：
                        </th>
                        <td width="145px">
                            @if (user.RealNameInfo != null)
                            {  
                                @user.RealNameInfo.IdCardNumber
@*<input type="text" name="IdCardNumber" id="IdCardNumber" value="@user.RealNameInfo.IdCardNumber" />*@
                            }
                        </td>
                        <td>
                            <div id="IdCardNumberTip" style="width: 200px;">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            联系电话：
                        </th>
                        <td width="145px">
                            @if (user.MobileInfo != null)
                            {
                                @user.MobileInfo.Mobile
@*<input type="text" name="Mobile" id="Mobile" value="@user.MobileInfo.Mobile" />*@
                            }
                        </td>
                        <td>
                            <div id="MobileTip" style="width: 200px;">
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <th class="f-right">
                            QQ号码：
                        </th>
                        <td width="145px">
                            @if (user.QQNumber != null)
                            {
                                <input type="text" name="QQNumber" id="QQNumber" value="@user.QQNumber" />
                            }
                        </td>
                        <td>
                            <div id="QQNumberTip" style="width: 200px;">
                            </div>
                        </td>
                    </tr>
                </table>
            </form>
        </div>
        @{Html.RenderPartial("help");}
    </div>
</div>
</div>
<script type="text/javascript">
    $("#editbutton").click(function () {
        $("#editTable").show();
        $("#savebutton").show();
        $("#pd-zl-zs").hide()
        $(this).hide();
    });
    $("#savebutton").click(function () {
        $("#editTable").hide();
        $("#editbutton").show();
        $("#pd-zl-zs").show()
        $(this).hide();
    });   
</script>
<div class="clearfix">
</div>
